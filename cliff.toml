# git-cliff configuration for HawkN.Iso.Currencies
# Documentation: https://git-cliff.org/docs/configuration
[changelog]
body = """
{% if version %}
## [{{ version | trim_start_matches(pat="v") }}] - {{ timestamp | date(format="%Y-%m-%d") }}
{% if previous_version %}
[Compare changes](https://github.com/HawkN113/HawkN.Iso.Currencies/compare/{{ previous_version }}...{{ version }})
{% endif %}
{% else %}
## [Unreleased]
{% endif %}

{% for group, commits in commits | group_by(attribute="group") %}
### {{ group | striptags | trim }}
{% for commit in commits %}
- {% if commit.scope %}**{{ commit.scope }}:** {% endif %}{% if commit.breaking %}[**BREAKING**] {% endif %}{{ commit.message | upper_first | trim }} ({{ commit.id | truncate(length=7, end="") }})
{% endfor %}
{% endfor %}
"""
trim = true
render_always = true
postprocessors = [
    { pattern = "<REPO>", replace = "https://github.com/HawkN113/HawkN.Iso.Currencies" },
    { pattern = "#(\\d+)", replace = "[#$1](https://github.com/HawkN113/HawkN.Iso.Currencies/issues/$1)" },
]
[git]
conventional_commits = true
filter_unconventional = true
require_conventional = false
split_commits = false
commit_preprocessors = [
    # Link PR numbers (PR rgba(57, 81, 105, 1) â†’ clickable)
    { pattern = "PR #(\\d+)", replace = "PR [#$1](https://github.com/HawkN113/HawkN.Iso.Currencies/pull/$1)" },
]
protect_breaking_commits = true
commit_parsers = [
    { message = "^feat",      group = "ğŸš€ Features" },
    { message = "^fix",       group = "ğŸ› Bug Fixes" },
    { message = "^perf",      group = "âš¡ Performance" },
    { message = "^refactor",  group = "ğŸ”§ Refactoring" },
    { message = "^style",     group = "ğŸ¨ Code Style" },
    { message = "^docs",       group = "ğŸ“š Documentation" },
    { message = "^test",      group = "ğŸ§ª Tests" },
    { message = "^build|^ci", group = "ğŸ”„ CI / Build" },

    # Skip some: dependency update, auto-release commits
    { message = "^chore\\(release\\)", skip = true },
    { message = "^chore\\(deps", skip = true },

    { body = "^security", group = "ğŸ›¡ï¸ Security" },
    { message = "^revert", group = "âª Revert" },

    # Catch-all fallback group
    { message = ".*", group = "ğŸ’¼ Other" },
]
filter_commits = false
link_parsers = []
use_branch_tags = true
topo_order = false
topo_order_commits = true
sort_commits = "oldest"
recurse_submodules = false
